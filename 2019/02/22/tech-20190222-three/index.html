<!doctype html>
<html lang="zh-cn">
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <!--Description-->
    
        <meta name="description" content="愿你有一个好心情~^-^">
    

    <!--Author-->
    
        <meta name="author" content="阿糕">
    

    <!-- Title -->
    
    <title>Three.js自学碎碎叨（下） | 阿糕家后院</title>
    <!--[if lt IE 9]>
        <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
        <script src="http://cdn.staticfile.org/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/style.css">

	<link href="https://cdn.bootcss.com/animate.css/3.5.2/animate.css" rel="stylesheet">
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.2/jquery.min.js"></script>
    <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<meta name="generator" content="Hexo 7.3.0"></head>
<body class="mck-body animated fadeIn">
    <div class="mck-loading" id="loading-container">
        <div class="mck-loading-item">
            <div class="mck-loading-text">
                <span class="mck-loading-textcontent">正在努力加载中...</span>
            </div>
        </div>
    </div>
    <div class="mck-sidebar">
        <canvas id="floating"></canvas>
        <div class="mck-logo">
            <img src="//mcimages/logo.png" />
        </div>
        <div class="mck-menu">
            <div class="mck-menu__collapse" id="mck-menu__collapse">
                <span class="mck-menu__collapse_line"></span>
                <span class="mck-menu__collapse_line"></span>
            </div>
            <div class="mck-menu__normal">
                <div class="mck-menu-item">
                    <a href="/">HOME</a>
                </div>
                <div class="mck-menu-item">
                    <a href="/work/index.html">WORK</a>
                </div>
                <div class="mck-menu-item">
                    <a href="/tech/index.html">TECH</a>
                </div>
                <div class="mck-menu-item">
                    <a href="/life/index.html">LIFE</a>
                </div>
                <div class="mck-menu-item">
                    <a href="/link/index.html">LINK</a>
                </div>
                <div class="mck-menu-item">
                    <a href="/map/index.html" class="mck-menu-item__new">
                        <img src="//mcimages/emoji1.png" class="mck-menu-item__new_icon animated bounce"/>TRAVEL
                    </a>
                </div>
            </div>
        </div>
        <div class="mck-footer">
            <div class="mck-footer-text">MOCHIKO ❤ Since 2017</div>
            <div class="mck-footer-text" id="busuanzi_container_site_pv">你是第<span id="busuanzi_value_site_pv"></span>个光临的童鞋！</div>
        </div>
    </div>
	<div class="mck-main mck-post-main"> 
        <div class="mck-post-header ">
            <a class="mck-post-back" href="/"></a>
            <div class="mck-post-cover" style="background-image: url(https://www.mochiko.cn/pimgs/history/0069luTRly1fvua4dnmspg307q06618e.gif)"></div>
            <div class="mck-post-category"><a href="#">技术打工人</a><span class="mck-post-date">2019-02-22</span></div>
            <div class="mck-post-title">Three.js自学碎碎叨（下）</div>
            <ul class="mck-post-tags">
				
					

<li class="mck-post-tag"><a class="a_tag" href="/tags/Three-js/index.html">Three.js</a></li>
				
            </ul>
			<ol class="mck-post-menu"><li class="mck-post-menu-item mck-post-menu-level-1"><a class="mck-post-menu-link" href="#%E4%B8%80%E4%BA%9B%E6%96%B0%E7%9A%84%E4%B8%9C%E8%A5%BF"><span class="mck-post-menu-number">1.</span> <span class="mck-post-menu-text">一些新的东西</span></a><ol class="mck-post-menu-child"><li class="mck-post-menu-item mck-post-menu-level-2"><a class="mck-post-menu-link" href="#%E5%BB%BA%E7%AB%8B%E5%9D%90%E6%A0%87%E8%BD%B4"><span class="mck-post-menu-number">1.1.</span> <span class="mck-post-menu-text">建立坐标轴</span></a></li><li class="mck-post-menu-item mck-post-menu-level-2"><a class="mck-post-menu-link" href="#%E5%BB%BA%E7%AB%8B%E7%BD%91%E6%A0%BC%E6%A0%8F"><span class="mck-post-menu-number">1.2.</span> <span class="mck-post-menu-text">建立网格栏</span></a></li><li class="mck-post-menu-item mck-post-menu-level-2"><a class="mck-post-menu-link" href="#PlaneGeometry"><span class="mck-post-menu-number">1.3.</span> <span class="mck-post-menu-text">PlaneGeometry</span></a></li><li class="mck-post-menu-item mck-post-menu-level-2"><a class="mck-post-menu-link" href="#%E5%A6%82%E4%BD%95%E6%98%BE%E7%A4%BA%E6%8A%95%E5%BD%B1%EF%BC%9F"><span class="mck-post-menu-number">1.4.</span> <span class="mck-post-menu-text">如何显示投影？</span></a></li><li class="mck-post-menu-item mck-post-menu-level-2"><a class="mck-post-menu-link" href="#%E4%BD%BF%E7%94%A8dat-GUI%E6%9D%A5%E6%8E%A7%E5%88%B6"><span class="mck-post-menu-number">1.5.</span> <span class="mck-post-menu-text">使用dat GUI来控制</span></a></li></ol></li><li class="mck-post-menu-item mck-post-menu-level-1"><a class="mck-post-menu-link" href="#%E5%B0%8F%E7%BB%93"><span class="mck-post-menu-number">2.</span> <span class="mck-post-menu-text">小结</span></a></li></ol>
        </div>

        <div class="mck-post-content">
			<p>昨天终于把基本的东西给弄清楚了，然后也能写简单的DEMO了，今天主要是想想看还有没有更好的资料，然后继续写一些DEMO来加深一下印象，结果在B站发现了从油管上扒下来的Three.js系列教程，于是我就跟着它学了几节课，虽然英文听的不怎么明白，但是完全No problem，不影响学习。所以在这里来梳理一下今天学到的一些知识。</p>
<span id="more"></span>
<p>这是今天最后的成品…感觉像在跳街舞？？<br><img src="https://www.mochiko.cn/pimgs/history/0069luTRly1fvua4dnmspg307q06618e.gif" alt="图片描述"></p>
<h1 id="一些新的东西"><a href="#一些新的东西" class="headerlink" title="一些新的东西"></a>一些新的东西</h1><h2 id="建立坐标轴"><a href="#建立坐标轴" class="headerlink" title="建立坐标轴"></a>建立坐标轴</h2><p>我们可以向场景中添加坐标轴，来帮助我们更好的理解！</p>
<pre><code>var axis = new THREE.AxisHelper(30);
scene.add(axis);
</code></pre>
<p>我们添加了一个长度为30的轴。<br>这里的轴好像可以有3种颜色，红、蓝、绿，其实最后也能看出来，就应验了昨天的右手定则坐标系，我们可以清楚看到x、y和z轴的方向。</p>
<h2 id="建立网格栏"><a href="#建立网格栏" class="headerlink" title="建立网格栏"></a>建立网格栏</h2><p>我们还可以向场景中添加一个网格，同样也是帮助我们更好的把握空间的结构。</p>
<pre><code>var grid = new THREE.GridHelper(100, 20, 0xff0000, 0x000000);
scene.add(grid);
</code></pre>
<p>这里的参数分别是：网格长度、网格块大小。所以这里是100&#x2F;20&#x3D;5，5长度一个块。最后两个参数是表示颜色的。第一个颜色叫做中心线颜色，第二个就是网格的颜色。<br><img src="https://www.mochiko.cn/pimgs/history/0069luTRly1fvua4cg38vj30m80csafj.jpeg" alt="图片描述"><br>可以看到这里，穿过中心的两条线就是红色啦！然后网格是黑色。</p>
<h2 id="PlaneGeometry"><a href="#PlaneGeometry" class="headerlink" title="PlaneGeometry"></a>PlaneGeometry</h2><p>建立一个平面。<br>这里平面的主要用途其实是想把那个阴影给投出来。它和其他几何体是一样的，除了基本的形状外，还需要指定一个材料，最后结合：</p>
<pre><code>var planeGeometry = new THREE.PlaneGeometry(30, 30, 30);
var planeMeterial = new THREE.MeshLambertMaterial(&#123;
    color: 0xffffff
&#125;);
var plane = new THREE.Mesh(planeGeometry, planeMeterial);
</code></pre>
<p>然后效果就是上图中的那块黑色的地板！为什么定了它是白色但是它还是有点黑呢？主要还是和它的材质有关，所以要好好研究一下几种材料(to do)。</p>
<h2 id="如何显示投影？"><a href="#如何显示投影？" class="headerlink" title="如何显示投影？"></a>如何显示投影？</h2><p>首先，要用比较新版本的Three.js的CDN哦！<br>然后可以打开官网的API去查询，这个DEMO使用的是点光源，我们的目标是让影子投影到平面上。这里需要做几个事情：</p>
<ol>
<li><p>给渲染器设置接受投影。</p>
<p> renderer.shadowMap.enabled &#x3D; true;  &#x2F;&#x2F; 设置为允许投影<br> renderer.shadowMap.type &#x3D; THREE.PCFSoftShadowMap; &#x2F;&#x2F; 默认情况下就是这个柔和的光</p>
</li>
<li><p>给方块和光源设置投影。</p>
<p> cube.castShadow &#x3D; true;<br> spotLight.castShadow &#x3D; true;</p>
</li>
<li><p>给平面设置接受投影。</p>
<p> plane.receiveShadow &#x3D; true;</p>
</li>
</ol>
<p>然后就OK了。</p>
<h2 id="使用dat-GUI来控制"><a href="#使用dat-GUI来控制" class="headerlink" title="使用dat GUI来控制"></a>使用dat GUI来控制</h2><p>github仓库：<a target="_blank" rel="noopener" href="https://github.com/dataarts/dat.gui/tree/master/build">https://github.com/dataarts/dat.gui/tree/master/build</a><br>这里直接把那个打包好的文件下载来引用就行了。<br>使用这个我们可以用面板的形式来控制参数，从而动态更改展示的效果，比如：<br><img src="https://www.mochiko.cn/pimgs/history/0069luTRly1fvua4cq8upj30m80f17at.jpeg" alt="图片描述"><br>看，我这可以通过动态修改数据来让方块进行旋转～</p>
<pre><code>var guiControls = new function () &#123;
    this.rotationX = 0.01;
    this.rotationY = 0.01;
    this.rotationZ = 0.01;
&#125;
</code></pre>
<p>首先创造一个对象！后面这个function其实是一个构造函数～new一下对象就出来了，里面有内置的3个属性。<br>然后新建一个dat GUI对象：</p>
<pre><code>var datGUI = new dat.GUI();
datGUI.add(guiControls, &#39;rotationX&#39;, 0);
datGUI.add(guiControls, &#39;rotationY&#39;, 0);
datGUI.add(guiControls, &#39;rotationZ&#39;, 0);
</code></pre>
<p>我们分别，拿到这三个属性，并把它添加到这个dat GUI面板上去！所以旁边菜单选择就有了3个选择，当然我们也可以，只添加一个看看，就只会有一个出现在面板上。</p>
<p>最后在render动画函数里面，把值进行替换：</p>
<pre><code>function render () &#123;
    cube.rotation.x += guiControls.rotationX;
    cube.rotation.y += guiControls.rotationY;
    cube.rotation.z += guiControls.rotationZ;
    renderer.render(scene, camera);
    requestAnimationFrame(render);
&#125;
</code></pre>
<p>其实这里我们也能知道，它实现的原理，其实就是把对象里的值和面板连接了起来，也没什么很神奇的^—^。</p>
<h1 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h1><p>今天通过一个综合例子，加深了对Three.js绘制的基本过程的理解。<br>另外还学习了控制面板工具！能帮助我们更好的理解和观察～<br>明天我准备继续跟着视频先学，然后再去研究一下材料这个东西，嘻嘻，晚安啦！</p>

        </div>
        <div class="mck-post-footer">
    
        <a href="/2019/02/21/tech-20190221-three/index.html">上一篇</a>
    
    
        <a href="/2019/03/12/tech-20190312-huisufa/index.html">下一篇</a>
    
</div>
        <div class="mck-post-comments" id="mck-post-comments"></div>
<script>
    new Valine({
        el: '#mck-post-comments',
        appId: 'bhScVsXkKqR32IJd3MXvu41C-gzGzoHsz',
        appKey: 'm8alBLTHvrVy8DQvzGshxoA5',
        placeholder: '说点什么o_o ....',
        avatar: 'monsterid'
    });
</script>
        <div class="mck-about">
    <div class="mck-about-title mck-section-title">ABOUT</div>
    <div class="mck-about-main">
        欢迎来到小年糕的后花园，年糕的小站开设于2017年，博主年糕君是一个爱好十分广泛的人，也是一个比较佛系的人，不定时爆发脑洞更新（因为是社畜，也可能失踪很久，工作太累了）。
        <a href="/about/index.html" target="_blank" class="mck-about-more">查看更多</a>
    </div>
</div>
    </div>
    <script async src="/js/busuanzi.js"></script>
    <script>
    $(document).ready(function () {
        setTimeout(() => {
            $('#loading-container').fadeOut();
        }, 2000);

        $('#mck-menu__collapse').click(function() {
            var menu = $('.mck-menu__normal');
            if (menu.hasClass('opened')) {
                $(this).removeClass('opened')
                menu.removeClass('opened')
            } else {
                $(this).addClass('opened')
                menu.addClass('opened')
            }
        })
    })
    </script>
    <script src="https://cdn.bootcdn.net/ajax/libs/prettify/r298/prettify.min.js"></script>
    <script type="text/javascript">
        jQuery(document).ready(function () {
        jQuery("pre").addClass("prettyprint linenums");
        prettyPrint();
        });
    </script>
    <script async src="/js/sakura.js"></script>
</body>
</html>